@startuml
title <font size=30>智能家居系统</font>

namespace 智能家居系统{
    class 智能家居系统中央控制器
    {
        + {static} Instance:智能家居系统中央控制器
        - 系统模式:智能家居系统模式
        - 传感器:传感器管理器
        - 控制设备列表:List<家居设备>
        + 当前环境亮度
        + 当前环境温度
        + 当前环境湿度
        + 当前环境烟雾浓度

        + 一键开机()
        + 一键关机()

        + 设置系统模式(模式:智能家居系统模式)
        + 根据环境一键自动化设置()

        + 自动调节空调()
        + 自动调节灯光()
        + 自动调节窗帘()
        + 自动调节地暖()
        + 自动调节加湿器()
        + ...()
    }

    class 智能家居声控器 {
        - 语音指令
        + 控制系统:智能家居系统中央控制器
        + 控制(指令:Object)
        - 解析语音指令():string
        - 发出指令()
    }
    class 智能家居遥控器 {
        - 按键1:string
        - 按键2:string
        + 控制系统:智能家居系统中央控制器
        + 控制(指令:Object)
    }

    class 手机
    {
        + APP列表:List<APP>
        + 控制(指令:Object)
        + 打开App(AppName:string):APP
    }

    class APP {
        + App名字:string
        + App大小:float
    }

    class 智能家居APP
    {
        + 控制系统:智能家居系统中央控制器
    }

    interface I智能家居系统控制
    {
        + 控制(指令:Object)
        手机APP控制、语音控制、遥控器控制
    }
    
    手机 o-- APP
    APP <|-- 智能家居APP
    手机 ..> APP
    I智能家居系统控制 <|.. 手机
    I智能家居系统控制 <|.. 智能家居声控器
    I智能家居系统控制 <|.. 智能家居遥控器


    智能家居系统中央控制器 o-- 家居设备
    智能家居系统中央控制器 ..> 智能家居系统模式
    智能家居系统中央控制器 --> 智能家居声控器
    智能家居系统中央控制器 --> 智能家居遥控器
    智能家居系统中央控制器 --> 智能家居APP
    智能家居系统中央控制器 --> 传感器管理器

    abstract class 家居设备{}
    enum 智能家居系统模式{}
}

namespace 智能家居传感器 {
    class 传感器管理器
    {
        - 房屋传感器列表:List<传感器>

        + 获取环境温度()
        + 获取环境亮度()
        + 获取环境温度() 
        + 获取环境烟雾浓度()
        --
        环境数据通过平均房间内所有同类传感器数据来获取
        
    }
    class 传感器 { 
        - 传感器类型:传感器类型Enum
        - 传感器数据:float
        - 传感器位置:Vector3
        + 获取传感器数据():float
        + 获取传感器位置():Vector3
    }
    class 温度传感器{}
    class 湿度传感器{}
    class 烟雾传感器{}
    class 亮度传感器{}

    传感器 <|-- 温度传感器
    传感器 <|-- 湿度传感器
    传感器 <|-- 烟雾传感器
    传感器 <|-- 亮度传感器
    传感器 --o 传感器管理器
}

namespace 智能家居设备 {
    
    abstract class 家居设备 {
        + 当前设备是否开机:bool
        + {abstract} 开机()
        + {abstract} 关机()
    }

    class 空调{
        - 空调温度:float
        - 当前房间温度:float
        - 当前模式:冷热Enum
        + 获取空调温度():float
        + 调节温度(温度:int)
        + 调节模式(模式:冷热Enum)

        + 开机()
        + 关机()
    }

    class 窗帘 {
        - 当前窗帘状态:bool
        + 设置窗帘状态(开关:bool)
        + 获取窗帘状态():bool

        + 开机()
        + 关机()
    }

    class 日光灯 {
        - 当前日光灯状态:bool
        + 设置灯光状态(开关:bool)
        + 获取灯光状态():bool

        + 开机()
        + 关机()
    }

    class 投影仪 { 
        + 投影画面()
        + 开机()
        + 关机()
    }

    class 地暖 {
        - 当前地暖温度:float
        + 获取当前地暖温度():float
        + 设置当前地暖温度(温度:int)

        + 开机()
        + 关机()
    }

    class 门锁 {
        - 门锁开启状态:bool
        - 门锁密码:string

        + 密码开锁(密码:string)
        + 智能开锁()
        + 上锁()

        + 开机()
        + 关机()
    }

    class 加湿器 {
        - 空气湿度:float
        + 加湿()
        + 停止加湿()

        + 开机()
        + 关机()
    }

    class 火警器 {
        + 报警()
        + 关闭警报()

        + 开机()
        + 关机()
    }

    家居设备 <|-- 空调
    家居设备 <|-- 窗帘
    家居设备 <|-- 日光灯
    家居设备 <|-- 投影仪
    家居设备 <|-- 地暖
    家居设备 <|-- 门锁
    家居设备 <|-- 加湿器
    家居设备 <|-- 火警器
}

namespace Enum {
    enum 冷热Enum {
        小雪花模式
        小太阳模式
        湿度模式
    }
    
    enum 智能家居系统模式
    {
        全自动化模式
        混合模式
        手动调节模式
    }

    enum 传感器类型Enum
    {
        温度传感器
        湿度传感器
        亮度传感器
        烟雾传感器
    }
}

@enduml
